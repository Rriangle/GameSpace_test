<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>會員簽到系統 - GameSpace</title>
  <style>
    :root {
      --bg: #f8f9fa;
      --surface: #ffffff;
      --text: #212529;
      --muted: #6c757d;
      --line: #dee2e6;
      --accent: #007bff;
      --accent-hover: #0056b3;
      --success: #28a745;
      --warning: #ffc107;
      --danger: #dc3545;
      --info: #17a2b8;
      --shadow: 0 2px 4px rgba(0,0,0,0.1);
      --shadow-lg: 0 4px 8px rgba(0,0,0,0.15);
      --radius: 8px;
      --radius-lg: 12px;
      --blur: 8px;
      --spacing: 16px;
      --spacing-sm: 8px;
      --spacing-lg: 24px;
    }

    body.dark {
      --bg: #1a1a1a;
      --surface: #2d2d2d;
      --text: #ffffff;
      --muted: #adb5bd;
      --line: #495057;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
    
    .container { max-width: 1200px; margin: 0 auto; padding: var(--spacing); }
    
    .header { background: var(--surface); border-radius: var(--radius-lg); padding: var(--spacing-lg); margin-bottom: var(--spacing-lg); box-shadow: var(--shadow); }
    .header h1 { font-size: 2rem; margin-bottom: var(--spacing-sm); }
    .header p { color: var(--muted); }
    
    .nav { display: flex; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg); }
    .nav a { padding: var(--spacing-sm) var(--spacing); background: var(--surface); border-radius: var(--radius); text-decoration: none; color: var(--text); box-shadow: var(--shadow); transition: all 0.2s; }
    .nav a:hover { background: var(--accent); color: white; }
    
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-lg); }
    .card { background: var(--surface); border-radius: var(--radius-lg); padding: var(--spacing-lg); box-shadow: var(--shadow); }
    .card h3 { margin-bottom: var(--spacing); color: var(--accent); }
    
    .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; margin-bottom: var(--spacing); }
    .calendar-header { text-align: center; padding: var(--spacing-sm); background: var(--accent); color: white; font-weight: bold; }
    .calendar-day { padding: var(--spacing-sm); text-align: center; background: var(--surface); border: 1px solid var(--line); cursor: pointer; transition: all 0.2s; }
    .calendar-day:hover { background: var(--accent); color: white; }
    .calendar-day.signed { background: var(--success); color: white; }
    .calendar-day.today { background: var(--warning); color: var(--text); font-weight: bold; }
    .calendar-day.other-month { color: var(--muted); background: #f8f9fa; }
    
    .btn { padding: var(--spacing-sm) var(--spacing); background: var(--accent); color: white; border: none; border-radius: var(--radius); cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block; }
    .btn:hover { background: var(--accent-hover); }
    .btn.success { background: var(--success); }
    .btn.warning { background: var(--warning); color: var(--text); }
    .btn:disabled { background: var(--muted); cursor: not-allowed; }
    
    .list { list-style: none; }
    .list li { padding: var(--spacing-sm); border-bottom: 1px solid var(--line); display: flex; justify-content: space-between; align-items: center; }
    .list li:last-child { border-bottom: none; }
    
    .streak { text-align: center; padding: var(--spacing-lg); background: linear-gradient(135deg, var(--success), var(--info)); color: white; border-radius: var(--radius-lg); margin-bottom: var(--spacing-lg); }
    .streak h2 { font-size: 3rem; margin-bottom: var(--spacing-sm); }
    .streak p { opacity: 0.9; }
    
    .reward { display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: var(--surface); border-radius: var(--radius); margin-bottom: var(--spacing-sm); }
    .reward-icon { font-size: 1.5rem; }
    
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; }
    .modal.show { display: flex; align-items: center; justify-content: center; }
    .modal-content { background: var(--surface); border-radius: var(--radius-lg); padding: var(--spacing-lg); max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto; }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing); }
    .modal-header h3 { margin: 0; }
    .close { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--muted); }
    
    @media (max-width: 768px) {
      .container { padding: var(--spacing-sm); }
      .grid { grid-template-columns: 1fr; }
      .streak h2 { font-size: 2rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>📅 會員簽到系統</h1>
      <p>每日簽到獲得獎勵，連續簽到有額外獎勵！</p>
    </div>
    
    <nav class="nav">
      <a href="index.html">🏠 首頁</a>
      <a href="wallet.html">💰 會員錢包</a>
      <a href="signin.html">📅 簽到系統</a>
      <a href="pet.html">🐾 寵物系統</a>
      <a href="minigame.html">🎮 小遊戲</a>
    </nav>
    
    <div class="streak">
      <h2 id="streak">7</h2>
      <p>連續簽到天數</p>
    </div>
    
    <div class="grid">
      <div class="card">
        <h3>📅 本月簽到日曆</h3>
        <div class="calendar" id="calendar">
          <!-- 日曆將由JavaScript生成 -->
        </div>
        <div style="text-align: center; margin-top: var(--spacing);">
          <button class="btn success" id="signBtn" onclick="signIn()">今日簽到</button>
        </div>
      </div>
      
      <div class="card">
        <h3>🎁 今日獎勵</h3>
        <div id="todayRewards">
          <div class="reward">
            <span class="reward-icon">💰</span>
            <div>
              <strong>會員點數 +10</strong><br>
              <small>每日簽到基礎獎勵</small>
            </div>
          </div>
          <div class="reward">
            <span class="reward-icon">🐾</span>
            <div>
              <strong>寵物經驗 +5</strong><br>
              <small>寵物成長經驗值</small>
            </div>
          </div>
          <div class="reward">
            <span class="reward-icon">��</span>
            <div>
              <strong>9折優惠券 x1</strong><br>
              <small>連續簽到第7天獎勵</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="card">
        <h3>📊 簽到歷史</h3>
        <ul class="list">
          <li>
            <div>
              <strong>2024-09-30</strong><br>
              <small>連續第7天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-29</strong><br>
              <small>連續第6天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-28</strong><br>
              <small>連續第5天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-27</strong><br>
              <small>連續第4天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-26</strong><br>
              <small>連續第3天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-25</strong><br>
              <small>連續第2天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
          <li>
            <div>
              <strong>2024-09-24</strong><br>
              <small>連續第1天</small>
            </div>
            <div style="text-align: right;">
              <div class="btn success">已簽到</div>
            </div>
          </li>
        </ul>
      </div>
      
      <div class="card">
        <h3>🏆 連續簽到獎勵</h3>
        <ul class="list">
          <li>
            <div>
              <strong>連續3天</strong><br>
              <small>額外獲得 20 點數</small>
            </div>
            <div class="btn success">已完成</div>
          </li>
          <li>
            <div>
              <strong>連續7天</strong><br>
              <small>額外獲得 9折優惠券 x1</small>
            </div>
            <div class="btn success">已完成</div>
          </li>
          <li>
            <div>
              <strong>連續15天</strong><br>
              <small>額外獲得 100 點數 + 免運券 x1</small>
            </div>
            <div class="btn warning">進行中</div>
          </li>
          <li>
            <div>
              <strong>連續30天</strong><br>
              <small>額外獲得 500 點數 + 特殊寵物皮膚</small>
            </div>
            <div class="btn warning">進行中</div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 簽到成功模態框 -->
  <div id="signModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>🎉 簽到成功！</h3>
        <button class="close" onclick="closeSignModal()">&times;</button>
      </div>
      <div id="signRewards">
        <!-- 獎勵內容將由JavaScript生成 -->
      </div>
    </div>
  </div>
  
  <script>
    // 生成日曆
    function generateCalendar() {
      const calendar = document.getElementById('calendar');
      const today = new Date();
      const year = today.getFullYear();
      const month = today.getMonth();
      
      // 獲取當月第一天和最後一天
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      
      // 獲取第一天是星期幾
      const firstDayWeek = firstDay.getDay();
      
      // 日曆標題
      const weekDays = ['日', '一', '二', '三', '四', '五', '六'];
      let calendarHTML = '';
      
      // 添加星期標題
      weekDays.forEach(day => {
        calendarHTML += <div class="calendar-header"></div>;
      });
      
      // 添加上個月的空白天數
      for (let i = 0; i < firstDayWeek; i++) {
        calendarHTML += <div class="calendar-day other-month"></div>;
      }
      
      // 添加當月的天數
      for (let day = 1; day <= daysInMonth; day++) {
        const dayDate = new Date(year, month, day);
        const isToday = dayDate.toDateString() === today.toDateString();
        const isSigned = day <= today.getDate(); // 模擬已簽到的天數
        
        let className = 'calendar-day';
        if (isToday) className += ' today';
        if (isSigned) className += ' signed';
        
        calendarHTML += <div class="" onclick="viewDayRewards()"></div>;
      }
      
      calendar.innerHTML = calendarHTML;
    }
    
    function signIn() {
      const signBtn = document.getElementById('signBtn');
      if (signBtn.disabled) return;
      
      // 模擬簽到成功
      signBtn.disabled = true;
      signBtn.textContent = '今日已簽到';
      
      // 顯示獎勵模態框
      showSignRewards();
    }
    
    function showSignRewards() {
      const rewards = [
        { icon: '💰', title: '會員點數 +10', desc: '每日簽到基礎獎勵' },
        { icon: '🐾', title: '寵物經驗 +5', desc: '寵物成長經驗值' },
        { icon: '🎫', title: '9折優惠券 x1', desc: '連續簽到第7天獎勵' }
      ];
      
      const rewardsHTML = rewards.map(reward => 
        <div class="reward">
          <span class="reward-icon"></span>
          <div>
            <strong></strong><br>
            <small></small>
          </div>
        </div>
      ).join('');
      
      document.getElementById('signRewards').innerHTML = rewardsHTML;
      document.getElementById('signModal').classList.add('show');
    }
    
    function closeSignModal() {
      document.getElementById('signModal').classList.remove('show');
    }
    
    function viewDayRewards(day) {
      alert(查看  日的簽到獎勵詳情);
    }
    
    // 檢查今日是否已簽到
    function checkTodaySignIn() {
      const signBtn = document.getElementById('signBtn');
      // 這裡可以從localStorage或後端檢查
      const todaySigned = localStorage.getItem('signed_' + new Date().toDateString());
      if (todaySigned) {
        signBtn.disabled = true;
        signBtn.textContent = '今日已簽到';
      }
    }
    
    // 初始化
    generateCalendar();
    checkTodaySignIn();
    
    // 點擊模態框外部關閉
    document.getElementById('signModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeSignModal();
      }
    });
      // 此功能待開發提醒函數
    function showComingSoon() {
      alert("此功能待開發");
    }
  </script>
</body>
</html>

